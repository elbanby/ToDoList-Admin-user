<div class="row" [formGroup]="newTask">
  <div class="head d-flex justify-content-between">
    <h2 class="fw-bold">{{ 'tasks.Add New Task'|translate}}</h2>
    <button  mat-raised-button color="primary"  (click)="close()">X</button>
  </div>
  <div class="col-12">
    <mat-form-field appearance="outline">
      <mat-label>{{ 'tasks.Title'|translate}}</mat-label>
      <input matInput placeholder="{{ 'tasks.Title'|translate}}" formControlName="title">
    </mat-form-field>
  </div>
  <div class="col-12">
    <mat-form-field appearance="outline">
      <mat-label>{{ 'tasks.Users'|translate}}</mat-label>
      <mat-select formControlName="userId">
          <mat-option *ngFor="let user of users" [value]="user?._id"> {{user.username}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>


  <div class="col-12">
    <label for="selectImage" class="mb-2 mt-2 btn btn-primary" mat-raised-button color="primary">{{ 'tasks.File Name'|translate}}</label>
    <span>{{fileName}}</span>
    <input type="file" name="" hidden id="selectImage" (change)="selectImage($event)">
  </div>


  <div class="col-12">
    <mat-form-field color="accent" appearance="outline">
      <mat-label>{{ 'tasks.DeadLine Date'|translate}}</mat-label>
      <input matInput [matDatepicker]="picker1" formControlName="deadline">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>
  </div>



  <div class="col-12">
    <mat-form-field appearance="outline">
      <mat-label>{{ 'tasks.Description'|translate}}</mat-label>
      <textarea matInput placeholder="{{ 'tasks.write in this ....'|translate}}" formControlName="description"></textarea>
    </mat-form-field>
    <div class="col-md-12 but d-flex justify-content-center mt-3">
      <button *ngIf="!data" class="" mat-raised-button color="primary" (click)="creatTask()" [disabled]="newTask.invalid">{{ 'tasks.Creat'|translate}}</button>
      <button *ngIf="data" class="" mat-raised-button color="primary" (click)="updateTask()" [disabled]="newTask.invalid">{{ 'tasks.Update'|translate}}</button>
      <button class="" mat-raised-button color="primary" (click)="close()">{{ 'tasks.Close'|translate}}</button>
    </div>
  </div>
</div>
